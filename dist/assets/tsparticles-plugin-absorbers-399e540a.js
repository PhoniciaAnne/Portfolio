import{J as P,O as f,K as g,V as d,G as p,D as z,k as y,g as O,x as w,L as A,M as R,N as x,H as m,o as v,j as c,i as M}from"./tsparticles-engine-4f96873b.js";class k{constructor(){this.radius=0,this.mass=0}load(i){i&&(i.mass!==void 0&&(this.mass=i.mass),i.radius!==void 0&&(this.radius=i.radius))}}class F extends P{constructor(){super(),this.density=5,this.value=50,this.limit=new k}load(i){i&&(super.load(i),i.density!==void 0&&(this.density=i.density),typeof i.limit=="number"?this.limit.radius=i.limit:this.limit.load(i.limit))}}class l{constructor(){this.color=new f,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new F}load(i){i!==void 0&&(i.color!==void 0&&(this.color=f.create(this.color,i.color)),i.draggable!==void 0&&(this.draggable=i.draggable),this.name=i.name,i.opacity!==void 0&&(this.opacity=i.opacity),i.position!==void 0&&(this.position={},i.position.x!==void 0&&(this.position.x=g(i.position.x)),i.position.y!==void 0&&(this.position.y=g(i.position.y))),i.size!==void 0&&this.size.load(i.size),i.destroy!==void 0&&(this.destroy=i.destroy),i.orbits!==void 0&&(this.orbits=i.orbits))}}class S{constructor(i,s,t,e){var n,o,a;this.absorbers=i,this.container=s,this.initialPosition=e?d.create(e.x,e.y):void 0,t instanceof l?this.options=t:(this.options=new l,this.options.load(t)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=p(this.options.size.value)*s.retina.pixelRatio,this.mass=this.size*this.options.size.density*s.retina.reduceFactor;const b=this.options.size.limit;this.limit={radius:b.radius*s.retina.pixelRatio*s.retina.reduceFactor,mass:b.mass},this.color=(n=z(this.options.color))!==null&&n!==void 0?n:{b:0,g:0,r:0},this.position=(a=(o=this.initialPosition)===null||o===void 0?void 0:o.copy())!==null&&a!==void 0?a:this.calcPosition()}attract(i){const s=this.container,t=this.options;if(t.draggable){const r=s.interactivity.mouse;r.clicking&&r.downPosition?y(this.position,r.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&r.position&&(this.position.x=r.position.x,this.position.y=r.position.y)}const e=i.getPosition(),{dx:n,dy:o,distance:a}=O(this.position,e),b=d.create(n,o);if(b.length=this.mass/Math.pow(a,2)*s.retina.reduceFactor,a<this.size+i.getRadius()){const r=i.getRadius()*.033*s.retina.pixelRatio;this.size>i.getRadius()&&a<this.size-i.getRadius()||i.absorberOrbit!==void 0&&i.absorberOrbit.length<0?t.destroy?i.destroy():(i.needsNewPosition=!0,this.updateParticlePosition(i,b)):(t.destroy&&(i.size.value-=r),this.updateParticlePosition(i,b)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=r),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=r*this.options.size.density*s.retina.reduceFactor)}else this.updateParticlePosition(i,b)}draw(i){i.translate(this.position.x,this.position.y),i.beginPath(),i.arc(0,0,this.size,0,Math.PI*2,!1),i.closePath(),i.fillStyle=w(this.color,this.opacity),i.fill()}resize(){const i=this.initialPosition;this.position=i&&A(i,this.container.canvas.size,d.origin)?i:this.calcPosition()}calcPosition(){const i=R({size:this.container.canvas.size,position:this.options.position});return d.create(i.x,i.y)}updateParticlePosition(i,s){var t;if(i.destroyed)return;const e=this.container,n=e.canvas.size;if(i.needsNewPosition){const o=x({size:n});i.position.setTo(o),i.velocity.setTo(i.initialVelocity),i.absorberOrbit=void 0,i.needsNewPosition=!1}if(this.options.orbits){if(i.absorberOrbit===void 0&&(i.absorberOrbit=d.create(0,0),i.absorberOrbit.length=y(i.getPosition(),this.position),i.absorberOrbit.angle=m()*Math.PI*2),i.absorberOrbit.length<=this.size&&!this.options.destroy){const u=Math.min(n.width,n.height);i.absorberOrbit.length=u*(1+(m()*.2-.1))}i.absorberOrbitDirection===void 0&&(i.absorberOrbitDirection=i.velocity.x>=0?"clockwise":"counter-clockwise");const o=i.absorberOrbit.length,a=i.absorberOrbit.angle,b=i.absorberOrbitDirection;i.velocity.setTo(d.origin);const r={x:b==="clockwise"?Math.cos:Math.sin,y:b==="clockwise"?Math.sin:Math.cos};i.position.x=this.position.x+o*r.x(a),i.position.y=this.position.y+o*r.y(a),i.absorberOrbit.length-=s.length,i.absorberOrbit.angle+=((t=i.retina.moveSpeed)!==null&&t!==void 0?t:0)*e.retina.pixelRatio/100*e.retina.reduceFactor}else{const o=d.origin;o.length=s.length,o.angle=s.angle,i.velocity.addTo(o)}}}class D{constructor(i){this.container=i,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],i.getAbsorber=s=>s===void 0||typeof s=="number"?this.array[s||0]:this.array.find(t=>t.name===s),i.addAbsorber=(s,t)=>this.addAbsorber(s,t)}addAbsorber(i,s){const t=new S(this,this.container,i,s);return this.array.push(t),t}draw(i){for(const s of this.array)s.draw(i)}handleClickMode(i){const s=this.absorbers,t=this.interactivityAbsorbers;if(i==="absorber"){const e=v(t),n=e??v(s),o=this.container.interactivity.mouse.clickPosition;this.addAbsorber(n,o)}}async init(){this.absorbers=this.container.actualOptions.absorbers,this.interactivityAbsorbers=this.container.actualOptions.interactivity.modes.absorbers,c(this.absorbers,i=>{this.addAbsorber(i)})}particleUpdate(i){for(const s of this.array)if(s.attract(i),i.destroyed)break}removeAbsorber(i){const s=this.array.indexOf(i);s>=0&&this.array.splice(s,1)}resize(){for(const i of this.array)i.resize()}stop(){this.array=[]}}class _{constructor(){this.id="absorbers"}getPlugin(i){return new D(i)}loadOptions(i,s){var t,e;!this.needsPlugin(i)&&!this.needsPlugin(s)||(s!=null&&s.absorbers&&(i.absorbers=c(s.absorbers,n=>{const o=new l;return o.load(n),o})),i.interactivity.modes.absorbers=c((e=(t=s==null?void 0:s.interactivity)===null||t===void 0?void 0:t.modes)===null||e===void 0?void 0:e.absorbers,n=>{const o=new l;return o.load(n),o}))}needsPlugin(i){var s,t,e;if(!i)return!1;const n=i.absorbers;return n instanceof Array?!!n.length:n?!0:!!(!((e=(t=(s=i.interactivity)===null||s===void 0?void 0:s.events)===null||t===void 0?void 0:t.onClick)===null||e===void 0)&&e.mode&&M("absorber",i.interactivity.events.onClick.mode))}}async function C(h){const i=new _;await h.addPlugin(i)}export{C as l};

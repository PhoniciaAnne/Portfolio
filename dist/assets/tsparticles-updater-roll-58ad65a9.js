import{K as t,O as u,H as i,G as r,p as f}from"./tsparticles-engine-4f96873b.js";class s{constructor(){this.enable=!1,this.value=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=t(e.value)))}}class h{constructor(){this.darken=new s,this.enable=!1,this.enlighten=new s,this.mode="vertical",this.speed=25}load(e){e&&(e.backColor!==void 0&&(this.backColor=u.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=t(e.speed)))}}function b(o,e){const l=o.options.roll;if(!o.roll||!(l!=null&&l.enable))return;const n=o.roll.speed*e.factor,a=2*Math.PI;o.roll.angle+=n,o.roll.angle>a&&(o.roll.angle-=a)}class v{getTransformValues(e){var l;const n=((l=e.roll)===null||l===void 0?void 0:l.enable)&&e.roll,a=n&&n.horizontal,d=n&&n.vertical;return{a:a?Math.cos(n.angle):void 0,d:d?Math.sin(n.angle):void 0}}init(e){const l=e.options.roll;if(l!=null&&l.enable)if(e.roll={enable:l.enable,horizontal:l.mode==="horizontal"||l.mode==="both",vertical:l.mode==="vertical"||l.mode==="both",angle:i()*Math.PI*2,speed:r(l.speed)/360},l.backColor)e.backColor=f(l.backColor);else if(l.darken.enable&&l.enlighten.enable){const n=i()>=.5?"darken":"enlighten";e.roll.alter={type:n,value:r(n==="darken"?l.darken.value:l.enlighten.value)}}else l.darken.enable?e.roll.alter={type:"darken",value:r(l.darken.value)}:l.enlighten.enable&&(e.roll.alter={type:"enlighten",value:r(l.enlighten.value)});else e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}isEnabled(e){const l=e.options.roll;return!e.destroyed&&!e.spawning&&!!(l!=null&&l.enable)}loadOptions(e,...l){e.roll||(e.roll=new h);for(const n of l)e.roll.load(n==null?void 0:n.roll)}update(e,l){this.isEnabled(e)&&b(e,l)}}async function c(o){await o.addParticleUpdater("roll",()=>new v)}export{c as l};

import{l as p,Z as v,G as t,S as g,H as m,c as b}from"./tsparticles-engine-4f96873b.js";function x(a,o,i,n){switch(a.options.opacity.animation.destroy){case"max":o>=n&&a.destroy();break;case"min":o<=i&&a.destroy();break}}function l(a,o){var i,n,s,y,c,e;if(!a.opacity)return;const u=a.opacity.min,d=a.opacity.max,f=(i=a.opacity.decay)!==null&&i!==void 0?i:1;if(!(a.destroyed||!a.opacity.enable||((n=a.opacity.maxLoops)!==null&&n!==void 0?n:0)>0&&((s=a.opacity.loops)!==null&&s!==void 0?s:0)>((y=a.opacity.maxLoops)!==null&&y!==void 0?y:0))){switch(a.opacity.status){case"increasing":a.opacity.value>=d?(a.opacity.status="decreasing",a.opacity.loops||(a.opacity.loops=0),a.opacity.loops++):a.opacity.value+=((c=a.opacity.velocity)!==null&&c!==void 0?c:0)*o.factor;break;case"decreasing":a.opacity.value<=u?(a.opacity.status="increasing",a.opacity.loops||(a.opacity.loops=0),a.opacity.loops++):a.opacity.value-=((e=a.opacity.velocity)!==null&&e!==void 0?e:0)*o.factor;break}a.opacity.velocity&&a.opacity.decay!==1&&(a.opacity.velocity*=f),x(a,a.opacity.value,u,d),a.destroyed||(a.opacity.value=b(a.opacity.value,u,d))}}class _{constructor(o){this.container=o}init(o){const i=o.options.opacity;o.opacity={enable:i.animation.enable,max:p(i.value),min:v(i.value),value:t(i.value),loops:0,maxLoops:t(i.animation.count)};const n=i.animation;if(n.enable){o.opacity.decay=1-t(n.decay),o.opacity.status="increasing";const s=i.value;switch(o.opacity.min=v(s),o.opacity.max=p(s),n.startValue){case"min":o.opacity.value=o.opacity.min,o.opacity.status="increasing";break;case"random":o.opacity.value=g(o.opacity),o.opacity.status=m()>=.5?"increasing":"decreasing";break;case"max":default:o.opacity.value=o.opacity.max,o.opacity.status="decreasing";break}o.opacity.velocity=t(n.speed)/100*this.container.retina.reduceFactor,n.sync||(o.opacity.velocity*=m())}o.opacity.initialValue=o.opacity.value}isEnabled(o){var i,n,s,y;return!o.destroyed&&!o.spawning&&!!o.opacity&&o.opacity.enable&&(((i=o.opacity.maxLoops)!==null&&i!==void 0?i:0)<=0||((n=o.opacity.maxLoops)!==null&&n!==void 0?n:0)>0&&((s=o.opacity.loops)!==null&&s!==void 0?s:0)<((y=o.opacity.maxLoops)!==null&&y!==void 0?y:0))}reset(o){o.opacity&&(o.opacity.loops=0)}update(o,i){this.isEnabled(o)&&l(o,i)}}async function h(a){await a.addParticleUpdater("opacity",o=>new _(o))}export{h as l};

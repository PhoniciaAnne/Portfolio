import{g as O,H as z,c as D,G as h,k as T,l as _}from"./tsparticles-engine-4f96873b.js";function k(n){const o=n.initialPosition,{dx:s,dy:a}=O(o,n.position),e=Math.abs(s),d=Math.abs(a),i=n.retina.maxDistance.horizontal,t=n.retina.maxDistance.vertical;if(!(!i&&!t)){if((i&&e>=i||t&&d>=t)&&!n.misplaced)n.misplaced=!!i&&e>i||!!t&&d>t,i&&(n.velocity.x=n.velocity.y/2-n.velocity.x),t&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!i||e<i)&&(!t||d<t)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const c=n.position,v=n.velocity;i&&(c.x<o.x&&v.x<0||c.x>o.x&&v.x>0)&&(v.x*=-z()),t&&(c.y<o.y&&v.y<0||c.y>o.y&&v.y>0)&&(v.y*=-z())}}}function A(n,o){const s=n.container;if(!n.spin)return;const a={x:n.spin.direction==="clockwise"?Math.cos:Math.sin,y:n.spin.direction==="clockwise"?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*a.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*a.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const e=Math.max(s.canvas.size.width,s.canvas.size.height);n.spin.radius>e/2?(n.spin.radius=e/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=o/100*(1-n.spin.radius/e)}function E(n,o){var s;const a=n.options,e=a.move.path;if(!e.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=o.value;return}const i=(s=n.pathGenerator)===null||s===void 0?void 0:s.generate(n);i&&n.velocity.addTo(i),e.clamp&&(n.velocity.x=D(n.velocity.x,-1,1),n.velocity.y=D(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}function I(n){return n.slow.inRange?n.slow.factor:1}class B{init(o){var s;const a=o.container,e=o.options,d=e.move.gravity,i=e.move.spin;if(o.gravity={enable:d.enable,acceleration:h(d.acceleration),inverse:d.inverse},i.enable){const t=(s=i.position)!==null&&s!==void 0?s:{x:50,y:50},c={x:t.x/100*a.canvas.size.width,y:t.y/100*a.canvas.size.height},v=o.getPosition(),m=T(v,c),g=h(i.acceleration);o.retina.spinAcceleration=g*a.retina.pixelRatio,o.spin={center:c,direction:o.velocity.x>=0?"clockwise":"counter-clockwise",angle:o.velocity.angle,radius:m,acceleration:o.retina.spinAcceleration}}}isEnabled(o){return!o.destroyed&&o.options.move.enable}move(o,s){var a,e,d,i,t;const c=o.options,v=c.move;if(!v.enable)return;const m=o.container,g=I(o),F=((a=(i=o.retina).moveSpeed)!==null&&a!==void 0?a:i.moveSpeed=h(v.speed)*m.retina.pixelRatio)*m.retina.reduceFactor,l=(e=(t=o.retina).moveDrift)!==null&&e!==void 0?e:t.moveDrift=h(o.options.move.drift)*m.retina.pixelRatio,p=_(c.size.value)*m.retina.pixelRatio,w=v.size?o.getRadius()/p:1,R=w*g*(s.factor||1),S=2,x=F*R/S;if(v.spin.enable)A(o,x);else{E(o,s);const y=o.gravity,r=y!=null&&y.enable&&y.inverse?-1:1;y!=null&&y.enable&&x&&(o.velocity.y+=r*(y.acceleration*s.factor)/(60*x)),l&&x&&(o.velocity.x+=l*s.factor/(60*x));const b=o.moveDecay;b!=1&&o.velocity.multTo(b);const f=o.velocity.mult(x),u=(d=o.retina.maxSpeed)!==null&&d!==void 0?d:m.retina.maxSpeed;y!=null&&y.enable&&u>0&&(!y.inverse&&f.y>=0&&f.y>=u||y.inverse&&f.y<=0&&f.y<=-u)&&(f.y=r*u,x&&(o.velocity.y=f.y/x));const P=o.options.zIndex,M=(1-o.zIndexFactor)**P.velocityRate;M!=1&&f.multTo(M),o.position.addTo(f),v.vibrate&&(o.position.x+=Math.sin(o.position.x*Math.cos(o.position.y)),o.position.y+=Math.cos(o.position.y*Math.sin(o.position.x)))}k(o)}}async function G(n){n.addMover("base",()=>new B)}export{G as l};

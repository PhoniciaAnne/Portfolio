import{H as _,K as w,j as C,B as P,Q as D,p as x,G as v,L as M,V as z,M as O,o as R,S as b,T as A,A as I,i as q}from"./tsparticles-engine-4f96873b.js";class F{randomPosition(t,i,e){const s=(o,m)=>{const p=_()/4,c=Math.atan(m/o*Math.tan(2*Math.PI*p)),y=_();return y<.25?c:y<.5?Math.PI-c:y<.75?Math.PI+c:-c},n=(o,m,p)=>o*m/Math.sqrt((m*Math.cos(p))**2+(o*Math.sin(p))**2),[u,r]=[i.width/2,i.height/2],d=s(u,r),a=n(u,r,d),h=e?a*Math.sqrt(_()):a;return{x:t.x+h*Math.cos(d),y:t.y+h*Math.sin(d)}}}class T{constructor(){this.wait=!1}load(t){t&&(t.count!==void 0&&(this.count=t.count),t.delay!==void 0&&(this.delay=t.delay),t.duration!==void 0&&(this.duration=t.duration),t.wait!==void 0&&(this.wait=t.wait))}}class k{constructor(){this.quantity=1,this.delay=.1}load(t){t!==void 0&&(t.quantity!==void 0&&(this.quantity=w(t.quantity)),t.delay!==void 0&&(this.delay=w(t.delay)))}}class S{constructor(){this.mode="percent",this.height=0,this.width=0}load(t){t!==void 0&&(t.mode!==void 0&&(this.mode=t.mode),t.height!==void 0&&(this.height=t.height),t.width!==void 0&&(this.width=t.width))}}class f{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new T,this.rate=new k,this.shape="square",this.startCount=0}load(t){t&&(t.autoPlay!==void 0&&(this.autoPlay=t.autoPlay),t.size!==void 0&&(this.size||(this.size=new S),this.size.load(t.size)),t.direction!==void 0&&(this.direction=t.direction),this.domId=t.domId,t.fill!==void 0&&(this.fill=t.fill),this.life.load(t.life),this.name=t.name,this.particles=C(t.particles,i=>P({},i)),this.rate.load(t.rate),t.shape!==void 0&&(this.shape=t.shape),t.position!==void 0&&(this.position={},t.position.x!==void 0&&(this.position.x=w(t.position.x)),t.position.y!==void 0&&(this.position.y=w(t.position.y))),t.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new D),this.spawnColor.load(t.spawnColor)),t.startCount!==void 0&&(this.startCount=t.startCount))}}class B{constructor(t,i,e,s,n){var u,r,d,a,h,o,m,p;this.emitters=i,this.container=e,this._engine=t,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=n,s instanceof f?this.options=s:(this.options=new f,this.options.load(s)),this._spawnDelay=((u=this.options.life.delay)!==null&&u!==void 0?u:0)*1e3/this.container.retina.reduceFactor,this.position=(r=this._initialPosition)!==null&&r!==void 0?r:this.calcPosition(),this.name=this.options.name,this._shape=(d=this._engine.emitterShapeManager)===null||d===void 0?void 0:d.getShape(this.options.shape),this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let c=P({},this.options.particles);c??(c={}),(a=c.move)!==null&&a!==void 0||(c.move={}),(h=(p=c.move).direction)!==null&&h!==void 0||(p.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=x(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=c,this.size=(o=this.options.size)!==null&&o!==void 0?o:(()=>{const y=new S;return y.load({height:0,mode:"percent",width:0}),y})(),this._lifeCount=(m=this.options.life.count)!==null&&m!==void 0?m:-1,this._immortal=this._lifeCount<=0,this._engine.dispatchEvent("emitterCreated",{container:e,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}getPosition(){if(this.options.domId){const t=this.container,i=document.getElementById(this.options.domId);if(i){const e=i.getBoundingClientRect();return{x:(e.x+e.width/2)*t.retina.pixelRatio,y:(e.y+e.height/2)*t.retina.pixelRatio}}}return this.position}getSize(){const t=this.container;if(this.options.domId){const i=document.getElementById(this.options.domId);if(i){const e=i.getBoundingClientRect();return{width:e.width*t.retina.pixelRatio,height:e.height*t.retina.pixelRatio}}}return{width:this.size.mode==="percent"?t.canvas.size.width*this.size.width/100:this.size.width,height:this.size.mode==="percent"?t.canvas.size.height*this.size.height/100:this.size.height}}pause(){this._paused||delete this._emitDelay}play(){var t;if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=((t=this._spawnDelay)!==null&&t!==void 0?t:0))){if(this._emitDelay===void 0){const i=v(this.options.rate.delay);this._emitDelay=1e3*i/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this.prepareToDie()}}resize(){const t=this._initialPosition;this.position=t&&M(t,this.container.canvas.size,z.origin)?t:this.calcPosition()}update(t){var i,e,s;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=(i=this._spawnDelay)!==null&&i!==void 0?i:0,this._currentEmitDelay=(e=this._emitDelay)!==null&&e!==void 0?e:0),this._startParticlesAdded||(this._startParticlesAdded=!0,this.emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=t.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this.calcPosition(),this._spawnDelay=((s=this.options.life.delay)!==null&&s!==void 0?s:0)*1e3/this.container.retina.reduceFactor):this.destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=t.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=t.value,this._currentEmitDelay>=this._emitDelay&&(this.emit(),this._currentEmitDelay-=this._emitDelay)))}calcPosition(){return O({size:this.container.canvas.size,position:this.options.position})}destroy(){this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})}emit(){if(this._paused)return;const t=v(this.options.rate.quantity);this.emitParticles(t)}emitParticles(t){var i,e,s;const n=this.getPosition(),u=this.getSize(),r=R(this._particlesOptions);for(let d=0;d<t;d++){const a=P({},r);if(this.spawnColor){const o=(i=this.options.spawnColor)===null||i===void 0?void 0:i.animation;o&&(this.spawnColor.h=this.setColorAnimation(o.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(o.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(o.l,this.spawnColor.l,100)),a.color?a.color.value=this.spawnColor:a.color={value:this.spawnColor}}if(!n)return;const h=(s=(e=this._shape)===null||e===void 0?void 0:e.randomPosition(n,u,this.fill))!==null&&s!==void 0?s:n;this.container.particles.addParticle(h,a)}}prepareToDie(){var t;if(this._paused)return;const i=(t=this.options.life)===null||t===void 0?void 0:t.duration;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&i!==void 0&&i>0&&(this._duration=i*1e3)}setColorAnimation(t,i,e){var s;const n=this.container;if(!t.enable)return i;const u=b(t.offset),r=v(this.options.rate.delay),d=1e3*r/n.retina.reduceFactor,a=v((s=t.speed)!==null&&s!==void 0?s:0);return(i+a*n.fpsLimit/d+u*3.6)%e}}class H{constructor(t,i){this.container=i,this._engine=t,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},i.getEmitter=e=>e===void 0||typeof e=="number"?this.array[e||0]:this.array.find(s=>s.name===e),i.addEmitter=(e,s)=>this.addEmitter(e,s),i.removeEmitter=e=>{const s=i.getEmitter(e);s&&this.removeEmitter(s)},i.playEmitter=e=>{const s=i.getEmitter(e);s&&s.externalPlay()},i.pauseEmitter=e=>{const s=i.getEmitter(e);s&&s.externalPause()}}addEmitter(t,i){const e=new f;e.load(t);const s=new B(this._engine,this,this.container,e,i);return this.array.push(s),s}handleClickMode(t){const i=this.emitters,e=this.interactivityEmitters;if(t!=="emitter")return;let s;if(e&&e.value instanceof Array)if(e.value.length>0&&e.random.enable){s=[];const r=[];for(let d=0;d<e.random.count;d++){const a=A(e.value);if(r.includes(a)&&r.length<e.value.length){d--;continue}r.push(a),s.push(I(e.value,a))}}else s=e.value;else s=e==null?void 0:e.value;const n=s??i,u=this.container.interactivity.mouse.clickPosition;C(n,r=>{this.addEmitter(r,u)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(this.emitters instanceof Array)for(const t of this.emitters)this.addEmitter(t);else this.addEmitter(this.emitters)}pause(){for(const t of this.array)t.pause()}play(){for(const t of this.array)t.play()}removeEmitter(t){const i=this.array.indexOf(t);i>=0&&this.array.splice(i,1)}resize(){for(const t of this.array)t.resize()}stop(){this.array=[]}update(t){for(const i of this.array)i.update(t)}}const g=new Map;class L{constructor(t){this._engine=t}addShape(t,i){this.getShape(t)||g.set(t,i)}getShape(t){return g.get(t)}getSupportedShapes(){return g.keys()}}function E(l,t){return l+t*(_()-.5)}class V{randomPosition(t,i,e){if(e)return{x:E(t.x,i.width),y:E(t.y,i.height)};{const s=i.width/2,n=i.height/2,u=Math.floor(_()*4),r=(_()-.5)*2;switch(u){case 0:return{x:t.x+r*s,y:t.y-n};case 1:return{x:t.x-s,y:t.y+r*n};case 2:return{x:t.x+r*s,y:t.y+n};case 3:default:return{x:t.x+s,y:t.y+r*n}}}}}class j{constructor(t){this._engine=t,this.id="emitters"}getPlugin(t){return new H(this._engine,t)}loadOptions(t,i){var e,s,n,u,r,d;if(!this.needsPlugin(t)&&!this.needsPlugin(i))return;i!=null&&i.emitters&&(t.emitters=C(i.emitters,h=>{const o=new f;return o.load(h),o}));const a=(s=(e=i==null?void 0:i.interactivity)===null||e===void 0?void 0:e.modes)===null||s===void 0?void 0:s.emitters;if(a)if(a instanceof Array)t.interactivity.modes.emitters={random:{count:1,enable:!0},value:a.map(h=>{const o=new f;return o.load(h),o})};else{const h=a;if(h.value!==void 0)if(h.value instanceof Array)t.interactivity.modes.emitters={random:{count:(n=h.random.count)!==null&&n!==void 0?n:1,enable:(u=h.random.enable)!==null&&u!==void 0?u:!1},value:h.value.map(o=>{const m=new f;return m.load(o),m})};else{const o=new f;o.load(h.value),t.interactivity.modes.emitters={random:{count:(r=h.random.count)!==null&&r!==void 0?r:1,enable:(d=h.random.enable)!==null&&d!==void 0?d:!1},value:o}}else(t.interactivity.modes.emitters={random:{count:1,enable:!1},value:new f}).value.load(a)}}needsPlugin(t){var i,e,s;if(!t)return!1;const n=t.emitters;return n instanceof Array&&!!n.length||n!==void 0||!!(!((s=(e=(i=t.interactivity)===null||i===void 0?void 0:i.events)===null||e===void 0?void 0:e.onClick)===null||s===void 0)&&s.mode)&&q("emitter",t.interactivity.events.onClick.mode)}}async function K(l){l.emitterShapeManager||(l.emitterShapeManager=new L(l)),l.addEmitterShape||(l.addEmitterShape=(i,e)=>{var s;(s=l.emitterShapeManager)===null||s===void 0||s.addShape(i,e)});const t=new j(l);await l.addPlugin(t),l.addEmitterShape("circle",new F),l.addEmitterShape("square",new V)}export{K as l};

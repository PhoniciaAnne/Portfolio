import{C as _,R,O as C,P as S,y as W,k as x,v as q,g as L,x as O,D as P,F as D,G as E,z as F,H as M}from"./tsparticles-engine-4f96873b.js";class I extends _{constructor(i,n,e,t){super(i,n,e),this.canvasSize=t,this.canvasSize=Object.assign({},t)}contains(i){if(super.contains(i))return!0;const n={x:i.x-this.canvasSize.width,y:i.y};if(super.contains(n))return!0;const e={x:i.x-this.canvasSize.width,y:i.y-this.canvasSize.height};if(super.contains(e))return!0;const t={x:i.x,y:i.y-this.canvasSize.height};return super.contains(t)}intersects(i){if(super.intersects(i))return!0;const n=i,e=i,t={x:i.position.x-this.canvasSize.width,y:i.position.y-this.canvasSize.height};if(e.radius!==void 0){const s=new _(t.x,t.y,e.radius*2);return super.intersects(s)}else if(n.size!==void 0){const s=new R(t.x,t.y,n.size.width*2,n.size.height*2);return super.intersects(s)}return!1}}class z{constructor(){this.blur=5,this.color=new C,this.color.value="#000",this.enable=!1}load(i){i&&(i.blur!==void 0&&(this.blur=i.blur),this.color=C.create(this.color,i.color),i.enable!==void 0&&(this.enable=i.enable))}}class N{constructor(){this.enable=!1,this.frequency=1}load(i){i&&(i.color!==void 0&&(this.color=C.create(this.color,i.color)),i.enable!==void 0&&(this.enable=i.enable),i.frequency!==void 0&&(this.frequency=i.frequency),i.opacity!==void 0&&(this.opacity=i.opacity))}}class j{constructor(){this.blink=!1,this.color=new C,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new z,this.triangles=new N,this.width=1,this.warp=!1}load(i){i&&(i.id!==void 0&&(this.id=i.id),i.blink!==void 0&&(this.blink=i.blink),this.color=C.create(this.color,i.color),i.consent!==void 0&&(this.consent=i.consent),i.distance!==void 0&&(this.distance=i.distance),i.enable!==void 0&&(this.enable=i.enable),i.frequency!==void 0&&(this.frequency=i.frequency),i.opacity!==void 0&&(this.opacity=i.opacity),this.shadow.load(i.shadow),this.triangles.load(i.triangles),i.width!==void 0&&(this.width=i.width),i.warp!==void 0&&(this.warp=i.warp))}}function B(o,i,n,e,t){let s=x(o,i);if(!t||s<=n)return s;const l={x:i.x-e.width,y:i.y};if(s=x(o,l),s<=n)return s;const f={x:i.x-e.width,y:i.y-e.height};if(s=x(o,f),s<=n)return s;const d={x:i.x,y:i.y-e.height};return s=x(o,d),s}class G extends S{constructor(i){super(i),this.linkContainer=i}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(i){var n;if(!i.options.links)return;i.links=[];const e=i.getPosition(),t=this.container,s=t.canvas.size;if(e.x<0||e.y<0||e.x>s.width||e.y>s.height)return;const l=i.options.links,f=l.opacity,d=(n=i.retina.linksDistance)!==null&&n!==void 0?n:0,p=l.warp,h=p?new I(e.x,e.y,d,s):new _(e.x,e.y,d),k=t.particles.quadTree.query(h);for(const c of k){const r=c.options.links;if(i===c||!(r!=null&&r.enable)||l.id!==r.id||c.spawning||c.destroyed||!c.links||i.links.map(u=>u.destination).indexOf(c)!==-1||c.links.map(u=>u.destination).indexOf(i)!==-1)continue;const a=c.getPosition();if(a.x<0||a.y<0||a.x>s.width||a.y>s.height)continue;const g=B(e,a,d,s,p&&r.warp);if(g>d)return;const w=(1-g/d)*f;this.setColor(i),i.links.push({destination:c,opacity:w})}}isEnabled(i){var n;return!!(!((n=i.options.links)===null||n===void 0)&&n.enable)}loadParticlesOptions(i,...n){var e,t;i.links||(i.links=new j);for(const s of n)i.links.load((t=(e=s==null?void 0:s.links)!==null&&e!==void 0?e:s==null?void 0:s.lineLinked)!==null&&t!==void 0?t:s==null?void 0:s.line_linked)}reset(){}setColor(i){if(!i.options.links)return;const n=this.linkContainer,e=i.options.links;let t=e.id===void 0?n.particles.linksColor:n.particles.linksColors.get(e.id);if(t)return;const s=e.color;t=W(s,e.blink,e.consent),e.id===void 0?n.particles.linksColor=t:n.particles.linksColors.set(e.id,t)}}async function H(o){await o.addInteractor("particlesLinks",i=>new G(i))}function K(o,i,n,e,t,s,l,f,d,p,h,k){let c=!1;if(x(n,e)<=t)q(o,n,e),c=!0;else if(l){let r,a;const g={x:e.x-s.width,y:e.y},w=L(n,g);if(w.distance<=t){const u=n.y-w.dy/w.dx*n.x;r={x:0,y:u},a={x:s.width,y:u}}else{const u={x:e.x,y:e.y-s.height},y=L(n,u);if(y.distance<=t){const v=-(n.y-y.dy/y.dx*n.x)/(y.dy/y.dx);r={x:v,y:0},a={x:v,y:s.height}}else{const b={x:e.x-s.width,y:e.y-s.height},v=L(n,b);if(v.distance<=t){const T=n.y-v.dy/v.dx*n.x;r={x:-T/(v.dy/v.dx),y:T},a={x:r.x+s.width,y:r.y+s.height}}}}r&&a&&(q(o,n,r),q(o,e,a),c=!0)}if(c){if(o.lineWidth=i,f&&(o.globalCompositeOperation=d),o.strokeStyle=O(p,h),k.enable){const r=P(k.color);r&&(o.shadowBlur=k.blur,o.shadowColor=O(r))}o.stroke()}}function V(o,i,n,e,t,s,l,f){D(o,i,n,e),t&&(o.globalCompositeOperation=s),o.fillStyle=O(l,f),o.fill()}function A(o){return o.sort((i,n)=>i-n),o.join("_")}function m(o,i){const n=A(o.map(t=>t.id));let e=i.get(n);return e===void 0&&(e=M(),i.set(n,e)),e}class J{constructor(i){this.container=i,this._freqs={links:new Map,triangles:new Map}}drawParticle(i,n){var e;const t=n.options;if(!n.links||n.links.length<=0)return;const s=n.links.filter(l=>t.links&&this.getLinkFrequency(n,l.destination)<=t.links.frequency);for(const l of s)this.drawTriangles(t,n,l,s),l.opacity>0&&((e=n.retina.linksWidth)!==null&&e!==void 0?e:0)>0&&this.drawLinkLine(n,l)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(i){if(i.links=[],!i.options.links)return;const n=this.container.retina.pixelRatio;i.retina.linksDistance=i.options.links.distance*n,i.retina.linksWidth=i.options.links.width*n}particleDestroyed(i){i.links=[]}drawLinkLine(i,n){const e=this.container,t=e.actualOptions,s=n.destination,l=i.getPosition(),f=s.getPosition();let d=n.opacity;e.canvas.draw(p=>{var h,k,c;if(!i.options.links)return;let r;const a=(h=i.options.twinkle)===null||h===void 0?void 0:h.lines;if(a!=null&&a.enable){const u=a.frequency,y=P(a.color);M()<u&&y&&(r=y,d=E(a.opacity))}if(!r){const u=i.options.links,y=(u==null?void 0:u.id)!==void 0?e.particles.linksColors.get(u.id):e.particles.linksColor;r=F(i,s,y)}if(!r)return;const g=(k=i.retina.linksWidth)!==null&&k!==void 0?k:0,w=(c=i.retina.linksDistance)!==null&&c!==void 0?c:0;K(p,g,l,f,w,e.canvas.size,i.options.links.warp,t.backgroundMask.enable,t.backgroundMask.composite,r,d,i.options.links.shadow)})}drawLinkTriangle(i,n,e){var t;if(!i.options.links)return;const s=this.container,l=s.actualOptions,f=n.destination,d=e.destination,p=i.options.links.triangles,h=(t=p.opacity)!==null&&t!==void 0?t:(n.opacity+e.opacity)/2;h<=0||s.canvas.draw(k=>{var c;const r=i.getPosition(),a=f.getPosition(),g=d.getPosition(),w=(c=i.retina.linksDistance)!==null&&c!==void 0?c:0;if(x(r,a)>w||x(g,a)>w||x(g,r)>w)return;let u=P(p.color);if(!u){const y=i.options.links,b=(y==null?void 0:y.id)!==void 0?s.particles.linksColors.get(y.id):s.particles.linksColor;u=F(i,f,b)}u&&V(k,r,a,g,l.backgroundMask.enable,l.backgroundMask.composite,u,h)})}drawTriangles(i,n,e,t){var s,l,f;const d=e.destination;if(!(!((s=i.links)===null||s===void 0)&&s.triangles.enable&&(!((l=d.options.links)===null||l===void 0)&&l.triangles.enable)))return;const p=(f=d.links)===null||f===void 0?void 0:f.filter(h=>{const k=this.getLinkFrequency(d,h.destination);return d.options.links&&k<=d.options.links.frequency&&t.findIndex(c=>c.destination===h.destination)>=0});if(p!=null&&p.length)for(const h of p){const k=h.destination;this.getTriangleFrequency(n,d,k)>i.links.triangles.frequency||this.drawLinkTriangle(n,e,h)}}getLinkFrequency(i,n){return m([i,n],this._freqs.links)}getTriangleFrequency(i,n,e){return m([i,n,e],this._freqs.triangles)}}class Q{constructor(){this.id="links"}getPlugin(i){return new J(i)}loadOptions(){}needsPlugin(){return!0}}async function U(o){const i=new Q;await o.addPlugin(i)}async function Z(o){await H(o),await U(o)}export{Z as l};

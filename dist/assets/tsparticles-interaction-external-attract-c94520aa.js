import{E as m,m as y,i as d,C as p,g as k,c as x,a as g,V as A}from"./tsparticles-engine-4f96873b.js";class M{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(t){t&&(t.distance!==void 0&&(this.distance=t.distance),t.duration!==void 0&&(this.duration=t.duration),t.easing!==void 0&&(this.easing=t.easing),t.factor!==void 0&&(this.factor=t.factor),t.maxSpeed!==void 0&&(this.maxSpeed=t.maxSpeed),t.speed!==void 0&&(this.speed=t.speed))}}class b extends m{constructor(t,i){super(i),this._engine=t,i.attract||(i.attract={particles:[]}),this.handleClickMode=a=>{const r=this.container.actualOptions,e=r.interactivity.modes.attract;if(!(!e||a!=="attract")){i.attract||(i.attract={particles:[]}),i.attract.clicking=!0,i.attract.count=0;for(const c of i.attract.particles)this.isEnabled(c)&&c.velocity.setTo(c.initialVelocity);i.attract.particles=[],i.attract.finish=!1,setTimeout(()=>{i.destroyed||(i.attract||(i.attract={particles:[]}),i.attract.clicking=!1)},e.duration*1e3)}}}clear(){}init(){const t=this.container,i=t.actualOptions.interactivity.modes.attract;i&&(t.retina.attractModeDistance=i.distance*t.retina.pixelRatio)}async interact(){const t=this.container,i=t.actualOptions,a=t.interactivity.status===y,r=i.interactivity.events,e=r.onHover.enable,c=r.onHover.mode,s=r.onClick.enable,n=r.onClick.mode;a&&e&&d("attract",c)?this.hoverAttract():s&&d("attract",n)&&this.clickAttract()}isEnabled(t){var i;const a=this.container,r=a.actualOptions,e=a.interactivity.mouse,c=((i=t==null?void 0:t.interactivity)!==null&&i!==void 0?i:r.interactivity).events;if((!e.position||!c.onHover.enable)&&(!e.clickPosition||!c.onClick.enable))return!1;const s=c.onHover.mode,n=c.onClick.mode;return d("attract",s)||d("attract",n)}loadModeOptions(t,...i){t.attract||(t.attract=new M);for(const a of i)t.attract.load(a==null?void 0:a.attract)}reset(){}clickAttract(){const t=this.container;if(t.attract||(t.attract={particles:[]}),t.attract.finish||(t.attract.count||(t.attract.count=0),t.attract.count++,t.attract.count===t.particles.count&&(t.attract.finish=!0)),t.attract.clicking){const i=t.interactivity.mouse.clickPosition,a=t.retina.attractModeDistance;if(!a||a<0||!i)return;this.processAttract(i,a,new p(i.x,i.y,a))}else t.attract.clicking===!1&&(t.attract.particles=[])}hoverAttract(){const t=this.container,i=t.interactivity.mouse.position,a=t.retina.attractModeDistance;!a||a<0||!i||this.processAttract(i,a,new p(i.x,i.y,a))}processAttract(t,i,a){const r=this.container,e=r.actualOptions.interactivity.modes.attract;if(!e)return;const c=r.particles.quadTree.query(a,s=>this.isEnabled(s));for(const s of c){const{dx:n,dy:h,distance:o}=k(s.position,t),u=e.speed*e.factor,f=x(g(e.easing)(1-o/i)*u,0,e.maxSpeed),v=A.create(o===0?u:n/o*f,o===0?u:h/o*f);s.position.subFrom(v)}}}async function C(l){await l.addInteractor("externalAttract",t=>new b(l,t))}export{C as l};

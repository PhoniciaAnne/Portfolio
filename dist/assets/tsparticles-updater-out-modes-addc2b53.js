import{Y as z,h as l,g,L as x,V as y,H as c,S as b}from"./tsparticles-engine-4f96873b.js";function w(i){if(i.outMode!=="bounce"&&i.outMode!=="bounce-horizontal"&&i.outMode!=="bounceHorizontal"&&i.outMode!=="split")return;i.bounds.right<0?i.particle.position.x=i.size+i.offset.x:i.bounds.left>i.canvasSize.width&&(i.particle.position.x=i.canvasSize.width-i.size-i.offset.x);const o=i.particle.velocity.x;let s=!1;if(i.direction==="right"&&i.bounds.right>=i.canvasSize.width&&o>0||i.direction==="left"&&i.bounds.left<=0&&o<0){const f=z(i.particle.options.bounce.horizontal);i.particle.velocity.x*=-f,s=!0}if(!s)return;const h=i.offset.x+i.size;i.bounds.right>=i.canvasSize.width?i.particle.position.x=i.canvasSize.width-h:i.bounds.left<=0&&(i.particle.position.x=h),i.outMode==="split"&&i.particle.destroy()}function M(i){if(i.outMode!=="bounce"&&i.outMode!=="bounce-vertical"&&i.outMode!=="bounceVertical"&&i.outMode!=="split")return;i.bounds.bottom<0?i.particle.position.y=i.size+i.offset.y:i.bounds.top>i.canvasSize.height&&(i.particle.position.y=i.canvasSize.height-i.size-i.offset.y);const o=i.particle.velocity.y;let s=!1;if(i.direction==="bottom"&&i.bounds.bottom>=i.canvasSize.height&&o>0||i.direction==="top"&&i.bounds.top<=0&&o<0){const f=z(i.particle.options.bounce.vertical);i.particle.velocity.y*=-f,s=!0}if(!s)return;const h=i.offset.y+i.size;i.bounds.bottom>=i.canvasSize.height?i.particle.position.y=i.canvasSize.height-h:i.bounds.top<=0&&(i.particle.position.y=h),i.outMode==="split"&&i.particle.destroy()}class C{constructor(o){this.container=o,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(o,s,h,f){if(!this.modes.includes(f))return;const u=this.container;let e=!1;for(const[,m]of u.plugins)if(m.particleBounce!==void 0&&(e=m.particleBounce(o,h,s)),e)break;if(e)return;const n=o.getPosition(),t=o.offset,v=o.getRadius(),d=l(n,v),r=u.canvas.size;w({particle:o,outMode:f,direction:s,bounds:d,canvasSize:r,offset:t,size:v}),M({particle:o,outMode:f,direction:s,bounds:d,canvasSize:r,offset:t,size:v})}}class P{constructor(o){this.container=o,this.modes=["destroy"]}update(o,s,h,f){if(!this.modes.includes(f))return;const u=this.container;switch(o.outType){case"normal":case"outside":if(x(o.position,u.canvas.size,y.origin,o.getRadius(),s))return;break;case"inside":{const{dx:e,dy:n}=g(o.position,o.moveCenter),{x:t,y:v}=o.velocity;if(t<0&&e>o.moveCenter.radius||v<0&&n>o.moveCenter.radius||t>=0&&e<-o.moveCenter.radius||v>=0&&n<-o.moveCenter.radius)return;break}}u.particles.remove(o,void 0,!0)}}class p{constructor(o){this.container=o,this.modes=["none"]}update(o,s,h,f){if(!this.modes.includes(f)||o.options.move.distance.horizontal&&(s==="left"||s==="right")||o.options.move.distance.vertical&&(s==="top"||s==="bottom"))return;const u=o.options.move.gravity,e=this.container,n=e.canvas.size,t=o.getRadius();if(u.enable){const v=o.position;(!u.inverse&&v.y>n.height+t&&s==="bottom"||u.inverse&&v.y<-t&&s==="top")&&e.particles.remove(o)}else{if(o.velocity.y>0&&o.position.y<=n.height+t||o.velocity.y<0&&o.position.y>=-t||o.velocity.x>0&&o.position.x<=n.width+t||o.velocity.x<0&&o.position.x>=-t)return;x(o.position,e.canvas.size,y.origin,t,s)||e.particles.remove(o)}}}class O{constructor(o){this.container=o,this.modes=["out"]}update(o,s,h,f){if(!this.modes.includes(f))return;const u=this.container;switch(o.outType){case"inside":{const{x:e,y:n}=o.velocity,t=y.origin;t.length=o.moveCenter.radius,t.angle=o.velocity.angle+Math.PI,t.addTo(y.create(o.moveCenter));const{dx:v,dy:d}=g(o.position,t);if(e<=0&&v>=0||n<=0&&d>=0||e>=0&&v<=0||n>=0&&d<=0)return;o.position.x=Math.floor(b({min:0,max:u.canvas.size.width})),o.position.y=Math.floor(b({min:0,max:u.canvas.size.height}));const{dx:r,dy:m}=g(o.position,o.moveCenter);o.direction=Math.atan2(-m,-r),o.velocity.angle=o.direction;break}default:{if(x(o.position,u.canvas.size,y.origin,o.getRadius(),s))return;switch(o.outType){case"outside":{o.position.x=Math.floor(b({min:-o.moveCenter.radius,max:o.moveCenter.radius}))+o.moveCenter.x,o.position.y=Math.floor(b({min:-o.moveCenter.radius,max:o.moveCenter.radius}))+o.moveCenter.y;const{dx:e,dy:n}=g(o.position,o.moveCenter);o.moveCenter.radius&&(o.direction=Math.atan2(n,e),o.velocity.angle=o.direction);break}case"normal":{const e=o.options.move.warp,n=u.canvas.size,t={bottom:n.height+o.getRadius()+o.offset.y,left:-o.getRadius()-o.offset.x,right:n.width+o.getRadius()+o.offset.x,top:-o.getRadius()-o.offset.y},v=o.getRadius(),d=l(o.position,v);s==="right"&&d.left>n.width+o.offset.x?(o.position.x=t.left,o.initialPosition.x=o.position.x,e||(o.position.y=c()*n.height,o.initialPosition.y=o.position.y)):s==="left"&&d.right<-o.offset.x&&(o.position.x=t.right,o.initialPosition.x=o.position.x,e||(o.position.y=c()*n.height,o.initialPosition.y=o.position.y)),s==="bottom"&&d.top>n.height+o.offset.y?(e||(o.position.x=c()*n.width,o.initialPosition.x=o.position.x),o.position.y=t.top,o.initialPosition.y=o.position.y):s==="top"&&d.bottom<-o.offset.y&&(e||(o.position.x=c()*n.width,o.initialPosition.x=o.position.x),o.position.y=t.bottom,o.initialPosition.y=o.position.y);break}}break}}}}class S{constructor(o){this.container=o,this.updaters=[new C(o),new P(o),new O(o),new p(o)]}init(){}isEnabled(o){return!o.destroyed&&!o.spawning}update(o,s){var h,f,u,e;const n=o.options.move.outModes;this.updateOutMode(o,s,(h=n.bottom)!==null&&h!==void 0?h:n.default,"bottom"),this.updateOutMode(o,s,(f=n.left)!==null&&f!==void 0?f:n.default,"left"),this.updateOutMode(o,s,(u=n.right)!==null&&u!==void 0?u:n.default,"right"),this.updateOutMode(o,s,(e=n.top)!==null&&e!==void 0?e:n.default,"top")}updateOutMode(o,s,h,f){for(const u of this.updaters)u.update(o,f,s,h)}}async function V(i){await i.addParticleUpdater("outModes",o=>new S(o))}export{V as l};

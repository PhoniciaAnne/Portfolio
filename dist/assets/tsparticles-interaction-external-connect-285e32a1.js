import{E as h,i as g,v as k,s as p,w as f,x as M}from"./tsparticles-engine-4f96873b.js";class m{constructor(){this.opacity=.5}load(n){n&&n.opacity!==void 0&&(this.opacity=n.opacity)}}class C{constructor(){this.distance=80,this.links=new m,this.radius=60}get lineLinked(){return this.links}set lineLinked(n){this.links=n}get line_linked(){return this.links}set line_linked(n){this.links=n}load(n){var t,i;n&&(n.distance!==void 0&&(this.distance=n.distance),this.links.load((i=(t=n.links)!==null&&t!==void 0?t:n.lineLinked)!==null&&i!==void 0?i:n.line_linked),n.radius!==void 0&&(this.radius=n.radius))}}function R(e,n,t,i){const s=Math.floor(t.getRadius()/n.getRadius()),o=n.getFillColor(),c=t.getFillColor();if(!o||!c)return;const r=n.getPosition(),l=t.getPosition(),d=p(o,c,n.getRadius(),t.getRadius()),a=e.createLinearGradient(r.x,r.y,l.x,l.y);return a.addColorStop(0,f(o,i)),a.addColorStop(s>1?1:s,M(d,i)),a.addColorStop(1,f(c,i)),a}function b(e,n,t,i,s){k(e,i,s),e.lineWidth=n,e.strokeStyle=t,e.stroke()}function x(e,n,t,i){const s=e.actualOptions,o=s.interactivity.modes.connect;if(o)return R(n,t,i,o.links.opacity)}function w(e,n,t){e.canvas.draw(i=>{var s;const o=x(e,i,n,t);if(!o)return;const c=n.getPosition(),r=t.getPosition();b(i,(s=n.retina.linksWidth)!==null&&s!==void 0?s:0,o,c,r)})}class P extends h{constructor(n){super(n)}clear(){}init(){const n=this.container,t=n.actualOptions.interactivity.modes.connect;t&&(n.retina.connectModeDistance=t.distance*n.retina.pixelRatio,n.retina.connectModeRadius=t.radius*n.retina.pixelRatio)}async interact(){const n=this.container;if(n.actualOptions.interactivity.events.onHover.enable&&n.interactivity.status==="pointermove"){const i=n.interactivity.mouse.position;if(!n.retina.connectModeDistance||n.retina.connectModeDistance<0||!n.retina.connectModeRadius||n.retina.connectModeRadius<0||!i)return;const s=Math.abs(n.retina.connectModeRadius),o=n.particles.quadTree.queryCircle(i,s,r=>this.isEnabled(r));let c=0;for(const r of o){const l=r.getPosition();for(const d of o.slice(c+1)){const a=d.getPosition(),u=Math.abs(n.retina.connectModeDistance),v=Math.abs(l.x-a.x),y=Math.abs(l.y-a.y);v<u&&y<u&&w(n,r,d)}++c}}}isEnabled(n){var t;const i=this.container,s=i.interactivity.mouse,o=((t=n==null?void 0:n.interactivity)!==null&&t!==void 0?t:i.actualOptions.interactivity).events;return o.onHover.enable&&s.position?g("connect",o.onHover.mode):!1}loadModeOptions(n,...t){n.connect||(n.connect=new C);for(const i of t)n.connect.load(i==null?void 0:i.connect)}reset(){}}async function L(e){await e.addInteractor("externalConnect",n=>new P(n))}export{L as l};

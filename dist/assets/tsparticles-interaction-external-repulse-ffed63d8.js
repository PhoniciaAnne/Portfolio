import{j as g,E as M,m as E,i as y,d as b,b as O,C as m,g as x,V as R,c as S,a as q,R as w,u as D}from"./tsparticles-engine-4f96873b.js";class k{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class T extends k{constructor(){super(),this.selectors=[]}get ids(){return g(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=g(e,s=>`#${s}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class C extends k{load(e){super.load(e),e&&(this.divs=g(e.divs,s=>{const i=new T;return i.load(s),i}))}}class H extends M{constructor(e,s){super(s),this._engine=e,s.repulse||(s.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.repulse;if(!(!o||i!=="repulse")){s.repulse||(s.repulse={particles:[]}),s.repulse.clicking=!0,s.repulse.count=0;for(const n of s.repulse.particles)this.isEnabled(n)&&n.velocity.setTo(n.initialVelocity);s.repulse.particles=[],s.repulse.finish=!1,setTimeout(()=>{s.destroyed||(s.repulse||(s.repulse={particles:[]}),s.repulse.clicking=!1)},o.duration*1e3)}}}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.repulse;s&&(e.retina.repulseModeDistance=s.distance*e.retina.pixelRatio)}async interact(){const e=this.container,s=e.actualOptions,i=e.interactivity.status===E,r=s.interactivity.events,o=r.onHover.enable,n=r.onHover.mode,l=r.onClick.enable,t=r.onClick.mode,c=r.onDiv;i&&o&&y("repulse",n)?this.hoverRepulse():l&&y("repulse",t)?this.clickRepulse():b("repulse",c,(u,p)=>this.singleSelectorRepulse(u,p))}isEnabled(e){var s;const i=this.container,r=i.actualOptions,o=i.interactivity.mouse,n=((s=e==null?void 0:e.interactivity)!==null&&s!==void 0?s:r.interactivity).events,l=n.onDiv,t=O("repulse",l);if(!(t||n.onHover.enable&&o.position||n.onClick.enable&&o.clickPosition))return!1;const c=n.onHover.mode,u=n.onClick.mode;return y("repulse",c)||y("repulse",u)||t}loadModeOptions(e,...s){e.repulse||(e.repulse=new C);for(const i of s)e.repulse.load(i==null?void 0:i.repulse)}reset(){}clickRepulse(){const e=this.container,s=e.actualOptions.interactivity.modes.repulse;if(s){if(e.repulse||(e.repulse={particles:[]}),e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const i=e.retina.repulseModeDistance;if(!i||i<0)return;const r=Math.pow(i/6,3),o=e.interactivity.mouse.clickPosition;if(o===void 0)return;const n=new m(o.x,o.y,r),l=e.particles.quadTree.query(n,t=>this.isEnabled(t));for(const t of l){const{dx:c,dy:u,distance:p}=x(o,t.position),a=p**2,d=s.speed,v=-r*d/a;if(a<=r){e.repulse.particles.push(t);const h=R.create(c,u);h.length=v,t.velocity.setTo(h)}}}else if(e.repulse.clicking===!1){for(const i of e.repulse.particles)i.velocity.setTo(i.initialVelocity);e.repulse.particles=[]}}}hoverRepulse(){const e=this.container,s=e.interactivity.mouse.position,i=e.retina.repulseModeDistance;!i||i<0||!s||this.processRepulse(s,i,new m(s.x,s.y,i))}processRepulse(e,s,i,r){var o;const n=this.container,l=n.particles.quadTree.query(i,c=>this.isEnabled(c)),t=n.actualOptions.interactivity.modes.repulse;if(t)for(const c of l){const{dx:u,dy:p,distance:a}=x(c.position,e),d=((o=r==null?void 0:r.speed)!==null&&o!==void 0?o:t.speed)*t.factor,v=S(q(t.easing)(1-a/s)*d,0,t.maxSpeed),h=R.create(a===0?d:u/a*v,a===0?d:p/a*v);c.position.addTo(h)}}singleSelectorRepulse(e,s){const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const o=document.querySelectorAll(e);o.length&&o.forEach(n=>{const l=n,t=i.retina.pixelRatio,c={x:(l.offsetLeft+l.offsetWidth/2)*t,y:(l.offsetTop+l.offsetHeight/2)*t},u=l.offsetWidth/2*t,p=s.type==="circle"?new m(c.x,c.y,u):new w(l.offsetLeft*t,l.offsetTop*t,l.offsetWidth*t,l.offsetHeight*t),a=r.divs,d=D(a,l);this.processRepulse(c,u,p,d)})}}async function I(f){await f.addInteractor("externalRepulse",e=>new H(f,e))}export{I as l};
